@using Microsoft.Extensions.Localization
@inject IStringLocalizer<InventoryApp.Infrastructure.SharedResource> L

@{
  ViewData["Title"] = "Home";
  var isAuth = Context.User?.Identity?.IsAuthenticated ?? false;
}
<div data-page="home"></div>

<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h4 m-0">@L["Inventories"]</h1>
  <div class="d-flex gap-2">
    <a class="btn btn-outline-secondary" href="/Inventories">@L["Inventories"]</a>
    @if (isAuth)
    {
      <a class="btn btn-primary" href="/Inventories/Create">@L["Create"]</a>
    }
  </div>
</div>

<div class="row g-4">
  <div class="col-12 col-lg-8">
    <div class="card shadow-sm">
      <div class="card-header d-flex justify-content-between align-items-center">
        <div class="fw-bold">@L["LatestInventories"]</div>
        <button id="btnLatestRefresh" class="btn btn-sm btn-outline-secondary">@L["Refresh"]</button>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-hover align-middle"
                 id="tblLatest"
                 data-empty="@L["Empty"]"
                 data-error="@L["ErrorLoadingData"]"
                 data-loading="@L["Loading"]">
            <thead>
              <tr><th>@L["Title"]</th><th>@L["Description"]</th><th>@L["Created"]</th></tr>
            </thead>
            <tbody><tr><td colspan="3" class="text-muted">@L["Loading"]</td></tr></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="col-12 col-lg-4">
    <div class="card shadow-sm mb-4">
      <div class="card-header fw-bold">@L["TopByItems"]</div>
      <div class="card-body">
        <ul class="list-group"
            id="listTop"
            data-empty="@L["Empty"]"
            data-error="@L["ErrorLoading"]">
          <li class="list-group-item text-muted">@L["Loading"]</li>
        </ul>
      </div>
    </div>

    <div class="card shadow-sm">
      <div class="card-header fw-bold">@L["TagCloud"]</div>
      <div class="card-body" id="tagCloud" data-empty="@L["NoTags"]">@L["Loading"]</div>
    </div>
  </div>
</div>
